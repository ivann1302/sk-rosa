/* stylelint-disable no-descending-specificity */
// Базовые стили для сообщений об ошибках
.field-error {
  display: block;
  font-size: 0.875rem;
  margin-top: 0.375rem;
  font-weight: 500;
  line-height: 1.4;
  color: #dc3545;
  animation: fade-in 0.2s ease-in;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Стили для contact-form (белые поля на фоне)
.contact-form {
  &__field {
    &.field--error {
      input {
        border-color: #dc3545 !important;
        box-shadow: 0 0 0 3px rgb(220 53 69 / 15%) !important;

        &:focus {
          border-color: #dc3545 !important;
          box-shadow: 0 0 0 3px rgb(220 53 69 / 15%) !important;
        }
      }
    }

    .field-error {
      color: #dc3545;
      text-shadow: 0 1px 2px rgb(0 0 0 / 10%);
    }
  }
}

// Стили для contact-request (белая форма)
.contact-request {
  &__field {
    &.field--error {
      input,
      textarea,
      select {
        border-color: #dc3545;
        box-shadow: 0 0 0 3px rgb(220 53 69 / 10%);

        &:focus {
          border-color: #dc3545;
          box-shadow: 0 0 0 3px rgb(220 53 69 / 10%);
        }
      }
    }

    .field-error {
      color: #dc3545;
    }
  }
}

// Стили для calculator-request
.calculator-request {
  &__field {
    &.field--error {
      input,
      select {
        border-color: #dc3545;
        box-shadow: 0 0 0 2px rgb(220 53 69 / 10%);

        &:focus {
          border-color: #dc3545;
          box-shadow: 0 0 0 2px rgb(220 53 69 / 10%);
        }
      }
    }

    .field-error {
      color: #dc3545;
    }
  }
}

// Стили для about-turnkey-2 (полупрозрачные поля на зеленом)
.about-turnkey-2 {
  &__field {
    &.field--error {
      .about-turnkey-2__input {
        background: rgb(220 53 69 / 15%) !important;
        border: 1px solid rgb(220 53 69 / 50%) !important;
        color: #fff !important;

        &::placeholder {
          color: rgb(255 255 255 / 70%) !important;
        }

        &:focus {
          background: rgb(220 53 69 / 20%) !important;
          border-color: rgb(220 53 69 / 70%) !important;
          box-shadow: 0 0 0 3px rgb(220 53 69 / 20%) !important;
        }
      }
    }

    .field-error {
      color: #fff;
      text-shadow: 0 1px 2px rgb(0 0 0 / 20%);
    }
  }
}

// Стили для contact-request-turnkey
.contact-request-turnkey {
  &__field {
    &.field--error {
      input,
      textarea,
      select {
        border-color: #dc3545;
        box-shadow: 0 0 0 3px rgb(220 53 69 / 10%);

        &:focus {
          border-color: #dc3545;
          box-shadow: 0 0 0 3px rgb(220 53 69 / 10%);
        }
      }
    }

    .field-error {
      color: #dc3545;
    }
  }
}

// Стили для price-calc
.price-calc {
  &__phone-input-container {
    &.field--error,
    &:has(.field--error) {
      .price-calc__phone-field {
        border-color: #dc3545;
        box-shadow: 0 0 0 2px rgb(220 53 69 / 10%);

        &:focus {
          border-color: #dc3545;
          box-shadow: 0 0 0 2px rgb(220 53 69 / 10%);
        }
      }
    }

    .price-calc__phone-field.field--error {
      border-color: #dc3545;
      box-shadow: 0 0 0 2px rgb(220 53 69 / 10%);

      &:focus {
        border-color: #dc3545;
        box-shadow: 0 0 0 2px rgb(220 53 69 / 10%);
      }
    }
  }

  // Ошибка после контейнера (снизу)
  &__phone-input-container + .field-error {
    color: #dc3545;
    margin-top: 0.5rem;
    display: block;
    width: 100%;
  }
}
