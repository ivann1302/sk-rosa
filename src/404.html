<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script>
      var path = window.location.pathname;

      // Определяем base path (для GitHub Pages это /sk-rosa/, для хостинга - /)
      var basePath = "";
      if (path.startsWith("/sk-rosa/")) {
        basePath = "/sk-rosa/";
        path = path.replace(/^\/sk-rosa\//, "");
      } else {
        path = path.replace(/^\//, "");
      }

      // Если путь пустой или заканчивается на /, это главная
      if (!path || path.endsWith("/")) {
        window.location.replace(basePath + "index.html");
        return;
      }

      // Убираем trailing slash если есть
      path = path.replace(/\/$/, "");

      // Проверяем, существует ли файл с .html
      var xhr = new XMLHttpRequest();
      xhr.open("HEAD", basePath + path + ".html", true);
      xhr.onload = function () {
        if (xhr.status === 200) {
          window.location.replace(basePath + path + ".html");
        } else {
          // Если файл не найден, пробуем index.html
          window.location.replace(basePath + "index.html");
        }
      };
      xhr.onerror = function () {
        window.location.replace(basePath + "index.html");
      };
      xhr.send();
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
